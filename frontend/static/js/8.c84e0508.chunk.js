(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{559:function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return k});var a=n(10),r=n(11),l=n(13),i=n(12),c=n(14),u=n(0),m=n.n(u),o=n(565),s=n(544),d=n(545),h=n(549),p=n(546),E=n(550),g=n(548),f=n(154),b=n(152),q=n(547),k=function(e){function t(){var e,n;Object(a.a)(this,t);for(var r=arguments.length,c=new Array(r),u=0;u<r;u++)c[u]=arguments[u];return(n=Object(l.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(c)))).state={open:!1,name:"",requirements:{rows:[],count:1},page:1,offset:0,limit:10,totalPage:1,submitting:!1,requirement:{name:""},edit:!1,loading:!1},n.componentDidMount=function(){n.getList(!0)},n.getList=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=n.props.models.Requirement;e&&n.setState({loading:!0}),t.collection({limit:5,offset:0}).then(function(e){var t=n.state.limit,a=Math.ceil(e.count/t);n.setState({requirements:e,totalPage:a,loading:!1})})},n.cancel=function(){n.setState({requirement:{name:""},edit:!1,name:""})},n.close=function(){n.setState({open:!1})},n.edit=function(e){return n.setState({edit:!0,requirement:e,name:e.name})},n.delete=function(e){e.delete().then(function(){return n.setState({requirement:{name:""},edit:!1},function(){return n.getList()})})},n.update=function(){var e=n.state,t=e.requirement,a=e.name;t.update({name:a}).then(function(){return n.setState({name:"",requirement:{name:""},edit:!1},function(){return n.getList()})})},n.addRequirement=function(e){e.preventDefault();var t=n.props.models.Requirement,a=n.state.name;n.setState({submitting:!0},function(){t.create({name:a}).then(function(){n.setState({name:"",submitting:!1},function(){return n.getList()})})})},n}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return m.a.createElement(m.a.Fragment,null,m.a.createElement(o.a,{size:"lg",isOpen:this.state.open,backdrop:"static"},m.a.createElement(s.a,{className:"bg-danger border-bottom border-danger text-white",toggle:this.close},"Tambah Dokumen"),m.a.createElement(d.a,null,m.a.createElement("form",{action:"",method:"post"},m.a.createElement(h.a,null,m.a.createElement(p.a,{readOnly:this.state.submitting,placeholder:"Nama Dokumen",onChange:function(t){return e.setState({name:t.target.value})},value:this.state.submitting?"Menambah Dokumen":this.state.name,name:"name"}),m.a.createElement(E.a,{addonType:"append"},this.state.edit&&m.a.createElement(g.a,{color:"danger",outline:!0,onClick:this.cancel},"Cancel"),this.state.edit&&m.a.createElement(g.a,{color:"success",outline:!0,onClick:this.update},"Simpan"),!this.state.edit&&m.a.createElement(g.a,{color:"success",outline:!0,onClick:this.addRequirement},"Tambah"))),m.a.createElement("hr",null))),m.a.createElement(f.a,{striped:!0,hover:!0,bordered:!0},m.a.createElement("thead",null,m.a.createElement("tr",null,m.a.createElement("th",null,"No."),m.a.createElement("th",null,"Nama"),m.a.createElement("th",null,"Edit/Hapus"))),m.a.createElement("tbody",null,this.state.loading?m.a.createElement("tr",null,m.a.createElement("td",{colSpan:3},m.a.createElement("p",{className:"text-muted m-0 text-center"},m.a.createElement(b.a,{size:"sm",color:"secondary"})," Loading"))):this.state.requirements.rows.length>0?this.state.requirements.rows.map(function(t,n){return m.a.createElement(v,{key:n,edit:e.edit,deleteRequirement:e.delete,req:t,index:n+1})}):m.a.createElement("tr",null,m.a.createElement("td",{colSpan:3},m.a.createElement("p",{className:"text-muted m-0 text-center"},"Belum Ada Dokumen Persyaratan"))))),m.a.createElement(q.a,null,m.a.createElement(g.a,{outline:!0,onClick:this.close,color:"dark",size:"sm"},"Tutup"))))}}]),t}(u.Component),v=function(e){return m.a.createElement("tr",null,m.a.createElement("td",null,e.index),m.a.createElement("td",null,e.req.name),m.a.createElement("td",null,m.a.createElement("div",{className:"btn-group btn-group-sm"},m.a.createElement("button",{onClick:function(){return e.edit(e.req)},className:"btn btn-warning"},"Edit"),m.a.createElement("button",{onClick:function(){return e.deleteRequirement(e.req)},className:"btn btn-danger"},"Hapus"))))}}}]);
//# sourceMappingURL=8.c84e0508.chunk.js.map