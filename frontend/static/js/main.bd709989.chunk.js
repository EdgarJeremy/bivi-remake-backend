(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{127:function(e,t){},130:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(23),c=n.n(o),s=(n(78),n(36)),l=n.n(s),i=n(65),u=n(11),m=n(12),d=n(14),p=n(13),h=n(15),g=n(19),b=n(10),f=n(66),E=n.n(f),v=n(67),y=n.n(v),O=(n(130),n(22)),j=n(146),P=n(147),w=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",password:"",loading:!1},n.onChange=function(e){n.setState(Object(O.a)({},e.target.name,e.target.value))},n.login=function(e){e.preventDefault();var t=n.state,a=t.username,r=t.password;n.props.login(a,r)},n.componentWillReceiveProps=function(e){var t=e.loading;n.setState({loading:t})},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bg-half animated slideInDown fast"}),r.a.createElement(g.b,{className:"login-btn",to:"/"},"Home"),r.a.createElement("div",{className:"wrapper d-flex justify-content-center align-items-center"},r.a.createElement("div",{style:{maxWidth:600},className:"container"},r.a.createElement("div",{className:"card border-0 shadow"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",{className:"mb-2"},"Login"),r.a.createElement("form",{className:"form-group"},r.a.createElement("input",{disabled:this.state.loading,type:"text",onChange:this.onChange,name:"username",value:this.state.username,placeholder:"Username",className:"form-control form-control-lg rounded-pill my-3"}),r.a.createElement("input",{disabled:this.state.loading,type:"password",onChange:this.onChange,name:"password",value:this.state.password,placeholder:"Password",className:"form-control form-control-lg rounded-pill my-3"}),r.a.createElement("hr",null),this.state.loading&&r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{color:"success"},r.a.createElement("h5",{className:"m-0"},r.a.createElement(P.a,{color:"dark"}),"\xa0Loading")),r.a.createElement("hr",null)),r.a.createElement("button",{type:"submit",onClick:this.login,className:"btn btn-outline-success btn-block rounded-pill btn-lg"},"Login")))))))}}]),t}(a.Component),k=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={login:!1,loading:!1},n.componentWillReceiveProps=function(e){var t=e.login;n.setState({login:t})},n.login=function(e,t){var a=n.props,r=a.provider,o=a.check;r.set({username:e,password:t}).then(function(){n.setState({login:!0},function(){return o()})}).catch(function(e){return alert(e.response.data.errors[0].msg)})},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.login;this.setState({login:e})}},{key:"render",value:function(){return document.title="Login ke Dashboard",this.props.login?r.a.createElement(b.a,{to:"/dashboard/main"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(w,Object.assign({},this.props,{loading:this.state.loading,login:this.login})))}}]),t}(a.Component),A=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(5),n.e(8)]).then(n.bind(null,197))}),_=Object(a.lazy)(function(){return n.e(9).then(n.bind(null,202))}),S=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,200))}),C=Object(a.lazy)(function(){return Promise.all([n.e(0),n.e(1),n.e(6),n.e(10)]).then(n.bind(null,199))}),R=Object({NODE_ENV:"production",PUBLIC_URL:"",REACT_APP_IP_ADDRESS:"http://antriancapil.manadokota.go.id",REACT_APP_PORT:"80"}),N=new E.a(R.REACT_APP_IP_ADDRESS,R.REACT_APP_PORT),D=y()("".concat(R.REACT_APP_IP_ADDRESS,":").concat(R.REACT_APP_PORT)),x=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={ready:!1,models:{},provider:{},error:!1,user:{type:"...",name:"Loading"},login:!1},n.componentDidMount=Object(i.a)(l.a.mark(function e(){var t,a;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N.connect();case 3:return t=e.sent,e.next=6,N.getAuthProvider();case 6:(a=e.sent).get().then(function(e){n.setState({models:t,provider:a,ready:!0,user:e,login:!0})}).catch(function(){return n.setState({login:!1,ready:!0,models:t,provider:a})}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert("Error");case 13:case"end":return e.stop()}},e,null,[[0,10]])})),n.check=function(){n.state.provider.get().then(function(e){n.setState({ready:!0,user:e,login:!0})}).catch(function(){return n.setState({login:!1,ready:!0})})},n}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return console.log(R.REACT_APP_IP_ADDRESS),this.state.ready?r.a.createElement(a.Suspense,{fallback:r.a.createElement(T,{msg:"Mempersiapkan"})},r.a.createElement(g.a,null,r.a.createElement(b.b,{path:"/",exact:!0,render:function(t){return r.a.createElement(_,Object.assign({},t,{user:e.state.user}))}}),r.a.createElement(b.b,{path:"/cek",exact:!0,render:function(t){return r.a.createElement(S,Object.assign({},t,{models:e.state.models}))}}),r.a.createElement(b.b,{path:"/register",render:function(t){return r.a.createElement(C,Object.assign({models:e.state.models},t))}}),r.a.createElement(b.b,{path:"/dashboard",render:function(t){return r.a.createElement(A,Object.assign({provider:e.state.provider,check:e.check,user:e.state.user,login:e.state.login,models:e.state.models,socket:D},t))}}),r.a.createElement(b.b,{path:"/login",render:function(t){return r.a.createElement(k,Object.assign({provider:e.state.provider,check:e.check,user:e.state.user,login:e.state.login},t))}}))):r.a.createElement(T,{msg:"Mempersiapkan"})}}]),t}(a.Component),T=function(e){return r.a.createElement("div",{className:"container vh-100 flex-column d-flex justify-content-center align-items-center"},r.a.createElement("div",{className:"spinner-border text-success"}),r.a.createElement("h4",null,e.msg))},I=x;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},73:function(e,t,n){e.exports=n(144)},78:function(e,t,n){}},[[73,3,4]]]);
//# sourceMappingURL=main.bd709989.chunk.js.map