{"version":3,"sources":["components/Requirement.js"],"names":["Requirement","state","open","name","requirements","rows","count","page","offset","limit","totalPage","submitting","requirement","edit","loading","componentDidMount","_this","getList","arguments","length","undefined","props","models","setState","collection","then","Math","ceil","cancel","close","delete","update","_this$state","addRequirement","ev","preventDefault","create","_this2","this","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","Fragment","reactstrap__WEBPACK_IMPORTED_MODULE_6__","size","isOpen","backdrop","reactstrap__WEBPACK_IMPORTED_MODULE_7__","className","toggle","reactstrap__WEBPACK_IMPORTED_MODULE_8__","action","method","reactstrap__WEBPACK_IMPORTED_MODULE_9__","reactstrap__WEBPACK_IMPORTED_MODULE_10__","readOnly","placeholder","onChange","target","value","reactstrap__WEBPACK_IMPORTED_MODULE_11__","addonType","reactstrap__WEBPACK_IMPORTED_MODULE_12__","color","outline","onClick","reactstrap__WEBPACK_IMPORTED_MODULE_13__","striped","hover","bordered","colSpan","reactstrap__WEBPACK_IMPORTED_MODULE_14__","map","req","i","Tr","key","deleteRequirement","index","reactstrap__WEBPACK_IMPORTED_MODULE_15__","Component"],"mappings":"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","file":"static/js/8.c84e0508.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { Modal, ModalBody, ModalHeader, ModalFooter, Button, Table, InputGroup, InputGroupAddon, Input, Spinner } from 'reactstrap';\n// import Input from './Input';\n\nexport default class Requirement extends Component {\n  state = {\n    open: false,\n    name: \"\",\n    requirements: {\n      rows: [],\n      count: 1\n    },\n    page: 1,\n    offset: 0,\n    limit: 10,\n    totalPage: 1,\n    submitting : false,\n    requirement : {\n      name : ''\n    },\n    edit : false,\n    loading : false\n  }\n\n  componentDidMount = () => {\n    this.getList(true);\n  };\n  \n\n  getList = (loading = false) => {\n    const { models: { Requirement } } = this.props;\n    if (loading) this.setState({ loading : true });\n    Requirement.collection({ limit: 5, offset: 0 }).then(requirements => {\n      const { limit } = this.state;\n      const totalPage = Math.ceil(requirements.count / limit);\n      this.setState({ requirements, totalPage, loading : false });\n    });\n  }\n\n  cancel = () => {\n    this.setState({ requirement : {name : ''}, edit : false, name : '' });\n  }\n\n  close = () => {\n    this.setState({ open: false });\n  }\n\n  edit = requirement => this.setState({ edit : true, requirement, name : requirement.name });\n\n  delete = requirement => {\n    requirement.delete().then(() => this.setState({ requirement : { name : ''}, edit : false }, () => this.getList()))\n  }\n\n  update = () => {\n    const { requirement, name } = this.state;\n    requirement.update({ name }).then(() => this.setState({ name : '', requirement : { name : ''}, edit : false }, () => this.getList()));\n  }\n\n  addRequirement = ev => {\n    ev.preventDefault();\n    const { models: { Requirement } } = this.props;\n    const { name } = this.state;\n    this.setState({ submitting : true }, () => {\n      Requirement.create({ name }).then(() => {\n        this.setState({ name: '', submitting : false }, () => this.getList());\n      })\n    })\n  }\n\n  render() {\n    return (\n      <>\n        <Modal size=\"lg\" isOpen={this.state.open} backdrop=\"static\">\n          <ModalHeader className=\"bg-danger border-bottom border-danger text-white\" toggle={this.close}>Tambah Dokumen</ModalHeader>\n          <ModalBody>\n            <form action=\"\" method=\"post\">\n              <InputGroup>\n                <Input readOnly={this.state.submitting} placeholder=\"Nama Dokumen\" onChange={ev => this.setState({ name: ev.target.value })} value={this.state.submitting ? 'Menambah Dokumen' : this.state.name} name=\"name\" />\n                <InputGroupAddon addonType=\"append\">\n                  { this.state.edit && <Button color=\"danger\" outline onClick={this.cancel}>Cancel</Button>}\n                  { this.state.edit && <Button color=\"success\" outline onClick={this.update}>Simpan</Button>}\n                  {!this.state.edit && <Button color=\"success\" outline onClick={this.addRequirement} >Tambah</Button>}\n                </InputGroupAddon>\n              </InputGroup>\n              <hr/>\n            </form>\n          </ModalBody>\n          <Table striped hover bordered>\n            <thead>\n              <tr>\n                <th>No.</th>\n                <th>Nama</th>\n                <th>Edit/Hapus</th>\n              </tr>\n            </thead>\n            <tbody>\n              { this.state.loading ?\n                <tr>\n                  <td colSpan={3}><p className=\"text-muted m-0 text-center\"><Spinner size=\"sm\" color=\"secondary\" /> Loading</p></td>\n                </tr>\n                :\n                this.state.requirements.rows.length > 0 ?\n                this.state.requirements.rows.map((req, i) => (<Tr key={i} edit={this.edit} deleteRequirement={this.delete} req={req} index={i + 1} />)) :\n                <tr>\n                  <td colSpan={3}><p className=\"text-muted m-0 text-center\">Belum Ada Dokumen Persyaratan</p></td>\n                </tr>\n              }\n            </tbody>\n          </Table>\n          <ModalFooter>\n            <Button outline onClick={this.close} color=\"dark\" size=\"sm\">Tutup</Button>\n          </ModalFooter>\n        </Modal>\n      </>\n    )\n  }\n}\n\nconst Tr = props => (\n  <tr>\n    <td>{props.index}</td>\n    <td>{props.req.name}</td>\n    <td>\n      <div className=\"btn-group btn-group-sm\">\n        <button onClick={() => props.edit(props.req)} className=\"btn btn-warning\">Edit</button>\n        <button onClick={() => props.deleteRequirement(props.req)} className=\"btn btn-danger\">Hapus</button>\n      </div>\n    </td>\n  </tr>\n)"],"sourceRoot":""}